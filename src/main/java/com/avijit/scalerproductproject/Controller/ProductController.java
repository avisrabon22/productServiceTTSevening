package com.avijit.scalerproductproject.Controller;

import com.avijit.scalerproductproject.DTO.ProdDto;
import com.avijit.scalerproductproject.DTO.ResponseOneProductDto;
import com.avijit.scalerproductproject.Service.ProductServiceInterface;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/product")
public class ProductController {
    private final ProductServiceInterface productServiceInterface;

    public ProductController(ProductServiceInterface productServiceInterface){
        this.productServiceInterface=productServiceInterface;
    }

    // *******************************************************************
    @GetMapping()
    public String getAllProduct() {
        return " getting all product";
    }
    // *****************************************************
     @GetMapping("/{prodId}")
    public ResponseOneProductDto getOneProduct(@PathVariable("prodId") Long prodId) {
             ResponseOneProductDto responseDto =new ResponseOneProductDto();
             responseDto.setProduct(productServiceInterface.getOneProduct(prodId));

         return responseDto                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     ;
     }
    // *************************************************************
        @PostMapping()
    public String addNewProduct(@RequestBody ProdDto prodDto) {
        
        return prodDto.getTitle()+" added in database." ;
    }

    // ****************************************************************

@DeleteMapping("/{prodId}")
    public String deleteProduct(@PathVariable("prodId")Long prodId){
        return "Product deleted "+prodId;
    }
    // *****************************************************************
@PutMapping("/{prodId}")
    public String updateProduct(@PathVariable("prodId") Long prodId){
        return "Product updated "+prodId;
    }
}
